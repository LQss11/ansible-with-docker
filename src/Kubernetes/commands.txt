docker-compose -f docker-compose-k8s.yaml -p dindocker_cluster up -d --scale agent=1 --build

****PORTAINER****

docker volume create portainer_data 

docker run -d -p 80:8000 -p 90:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce

apt update -y && \
apt upgrade -y && \
apt install -y curl wget apt-transport-https && \ # Install Minikube dependencies
wget https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 && \ # Download Minikube Binary
cp minikube-linux-amd64 /usr/local/bin/minikube && \
chmod +x /usr/local/bin/minikube && \
curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl && \ # Install Kubectl utility
chmod +x kubectl && \
mv kubectl /usr/local/bin/ && \
apt-get install -y conntrack && \ # Allows the kernel to keep track of all logical network connections or flows
minikube start --driver=none && \ # Start minikube since we are running on a VM 
rm minikube-linux-amd64

#minikube start --force --driver=docker